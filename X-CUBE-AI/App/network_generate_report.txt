Neural Network Tools for STM32AI v1.5.1 (STM.ai v7.0.0-RC8)
Created date          : 2021-08-04 15:31:22
Parameters            : generate -m ./Models/keras_mnist.h5 -o 20210804\X-CUBE-AI\App -w stm32ai_ws -n network -c 1

Exec/report summary (generate)
------------------------------------------------------------------------------------------------------------------------
model file            : F:\嵌入式开发\嵌入式人工智能\RT-AK-main\RT-AK\rt_ai_tools\Models\keras_mnist.h5
type                  : keras
c_name                : network
workspace dir         : F:\嵌入式开发\嵌入式人工智能\RT-AK-main\RT-AK\rt_ai_tools\stm32ai_ws
output dir            : F:\嵌入式开发\嵌入式人工智能\RT-AK-main\RT-AK\rt_ai_tools\20210804\X-CUBE-AI\App

model_name            : keras_mnist
model_hash            : ae8497de3b6a362450b2b2552a6faa41
input                 : input_0 [784 items, 3.06 KiB, ai_float, float, (1, 28, 28, 1)]
inputs (total)        : 3.06 KiB
output                : softmax_2 [10 items, 40 B, ai_float, float, (1, 1, 1, 10)]
outputs (total)       : 40 B
params #              : 624 items (2.44 KiB)
macc                  : 36,960
weights (ro)          : 2,496 B (2.44 KiB)
activations (rw)      : 3,536 B (3.45 KiB) 
ram (total)           : 6,712 B (6.55 KiB) = 3,536 + 3,136 + 40

Model name - keras_mnist ['input_0'] ['softmax_2']
---------------------------------------------------------------------------------------------------------------------------------------------------
id   layer (type)                 oshape              param/size   macc     connected to      |   c_size   c_macc            c_type               
---------------------------------------------------------------------------------------------------------------------------------------------------
0    input_0 (Input)              (h:28, w:28, c:1)                                           |                             
     conv2d_4 (Conv2D)            (h:26, w:26, c:4)   40/160       24,340   input_0           |            +2,704(+11.1%)    optimized_conv2d()[0]
---------------------------------------------------------------------------------------------------------------------------------------------------
1    max_pooling2d_4 (Pool)       (h:13, w:13, c:4)                2,704    conv2d_4          |            -2,704(-100.0%)  
---------------------------------------------------------------------------------------------------------------------------------------------------
2    conv2d_5 (Conv2D)            (h:11, w:11, c:2)   74/296       8,714    max_pooling2d_4   |            +442(+5.1%)       optimized_conv2d()[1]
     conv2d_5_nl (Nonlinearity)   (h:11, w:11, c:2)                242      conv2d_5          |            -242(-100.0%)    
---------------------------------------------------------------------------------------------------------------------------------------------------
3    max_pooling2d_5 (Pool)       (h:5, w:5, c:2)                  200      conv2d_5_nl       |            -200(-100.0%)    
---------------------------------------------------------------------------------------------------------------------------------------------------
4    flatten_2 (Reshape)          (c:50)                                    max_pooling2d_5   |                             
---------------------------------------------------------------------------------------------------------------------------------------------------
5    dense_2 (Dense)              (c:10)              510/2,040    510      flatten_2         |                              dense()[2]           
     dense_2_nl (Nonlinearity)    (c:10)                           100      dense_2           |                              nl()[3]              
---------------------------------------------------------------------------------------------------------------------------------------------------
6    softmax_2 (Nonlinearity)     (c:10)                           150      dense_2_nl        |                              nl()/o[4]            
---------------------------------------------------------------------------------------------------------------------------------------------------
model/c-model: macc=36,960/36,960  weights=2,496/2,496  activations=--/3,536 io=--/3,176



Generated C-graph summary
------------------------------------------------------------------------------------------------------------------------
model name            : keras_mnist
c-name                : network
c-node #              : 5
c-array #             : 14
activations size      : 3536
weights size          : 2496
macc                  : 36960
inputs                : ['input_0_output']
outputs               : ['softmax_2_output']



C-Arrays (14)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_array)     item/size           mem-pool     c-type       fmt    comment            
------------------------------------------------------------------------------------------------------------------------
0     input_0_output     784/3136            user         float        float  /input             
1     conv2d_4_output    676/2704            activations  float        float                     
2     conv2d_5_output    50/200              activations  float        float                     
3     dense_2_output     10/40               activations  float        float                     
4     dense_2_nl_output  10/40               activations  float        float                     
5     softmax_2_output   10/40               user         float        float  /output            
6     conv2d_4_weights   36/144              weights      const float  float                     
7     conv2d_4_bias      4/16                weights      const float  float                     
8     conv2d_5_weights   72/288              weights      const float  float                     
9     conv2d_5_bias      2/8                 weights      const float  float                     
10    dense_2_weights    500/2000            weights      const float  float                     
11    dense_2_bias       10/40               weights      const float  float                     
12    conv2d_4_scratch0  208/832             activations  float        float                     
13    conv2d_5_scratch0  44/176              activations  float        float                     
------------------------------------------------------------------------------------------------------------------------



C-Layers (5)
------------------------------------------------------------------------------------------------------------------------
c_id  name (*_layer)  id  layer_type        macc        rom         tensors               shape (array id)                       
------------------------------------------------------------------------------------------------------------------------
0     conv2d_4        1   optimized_conv2d  27044       160         I: input_0_output     (1, 28, 28, 1) (0)                     
                                                                    S: conv2d_4_scratch0                                         
                                                                    W: conv2d_4_weights                                          
                                                                    W: conv2d_4_bias                                             
                                                                    O: conv2d_4_output    (1, 13, 13, 4) (1)                     
------------------------------------------------------------------------------------------------------------------------
1     conv2d_5        3   optimized_conv2d  9156        296         I: conv2d_4_output    (1, 13, 13, 4) (1)                     
                                                                    S: conv2d_5_scratch0                                         
                                                                    W: conv2d_5_weights                                          
                                                                    W: conv2d_5_bias                                             
                                                                    O: conv2d_5_output    (1, 5, 5, 2) (2)                       
------------------------------------------------------------------------------------------------------------------------
2     dense_2         5   dense             510         2040        I: conv2d_5_output0   (1, 1, 1, 50) (2)                      
                                                                    W: dense_2_weights                                           
                                                                    W: dense_2_bias                                              
                                                                    O: dense_2_output     (1, 1, 1, 10) (3)                      
------------------------------------------------------------------------------------------------------------------------
3     dense_2_nl      5   nl                100         0           I: dense_2_output     (1, 1, 1, 10) (3)                      
                                                                    O: dense_2_nl_output  (1, 1, 1, 10) (4)                      
------------------------------------------------------------------------------------------------------------------------
4     softmax_2       6   nl                150         0           I: dense_2_nl_output  (1, 1, 1, 10) (4)                      
                                                                    O: softmax_2_output   (1, 1, 1, 10) (5)                      
------------------------------------------------------------------------------------------------------------------------



Complexity report per layer - macc=36,960 weights=2,496 act=3,536 ram_io=3,176
---------------------------------------------------------------------------
id   name         c_macc                    c_rom                     c_id
---------------------------------------------------------------------------
0    conv2d_4     ||||||||||||||||  73.2%   ||                 6.4%   [0] 
2    conv2d_5     ||||||            24.8%   |||               11.9%   [1] 
5    dense_2      |                  1.4%   ||||||||||||||||  81.7%   [2] 
5    dense_2_nl   |                  0.3%   |                  0.0%   [3] 
6    softmax_2    |                  0.4%   |                  0.0%   [4] 

Generated files (5)
-----------------------------------------------------------------------------------------------
F:\嵌入式开发\嵌入式人工智能\RT-AK-main\RT-AK\rt_ai_tools\20210804\X-CUBE-AI\App\network_config.h
F:\嵌入式开发\嵌入式人工智能\RT-AK-main\RT-AK\rt_ai_tools\20210804\X-CUBE-AI\App\network.h
F:\嵌入式开发\嵌入式人工智能\RT-AK-main\RT-AK\rt_ai_tools\20210804\X-CUBE-AI\App\network.c
F:\嵌入式开发\嵌入式人工智能\RT-AK-main\RT-AK\rt_ai_tools\20210804\X-CUBE-AI\App\network_data.h
F:\嵌入式开发\嵌入式人工智能\RT-AK-main\RT-AK\rt_ai_tools\20210804\X-CUBE-AI\App\network_data.c
